!function(){function vSlider(containerClassName,options){if(!containerClassName||!options)return console.error("[vSlider]: You have to give an class and options in params = new vSlider('.className', {opctions})");var vSliderConstructor,newSlider;new class{constructor(containerClassName,options){this.containerClassName=containerClassName,this.options=options,this.$container=document.querySelector(containerClassName),this.$wrapper=document.querySelector(containerClassName+" .v__slider__wrapper"),this.$items=document.querySelectorAll(containerClassName+" .v__slider__wrapper .v__slide"),this.sections={},this.sections.currentSection=0,this.msg={initError:"[vSlider]: You have to give an class and options in params = new vSlider('.className', {opctions})",itemsError:'[vSlider]:{items: ...} You have to specified option "items: [number]" more items than "'+containerClassName+'" contain, or 0, or type error!',navError:"[vSlider]:{navigation: ...} Elements not found!",marginError:'[vSlider]:{marginRight: ...} You to specified option "marginRight: [number]" !'},0==this.options.mouseControll?this.options.mouseControll=this.options.mouseControll:this.options.mouseControll=!0,this.options.loop=this.options.loop||!1,this.options.items=this.options.items||1,this.options.items>this.$items.length&&(this.options.items=this.$items.length,this.warn("itemsError")),this.options.navigation&&(this.navPrev=document.querySelectorAll(this.options.navigation.prev)||void 0),this.options.navigation&&(this.navNext=document.querySelectorAll(this.options.navigation.next)||void 0),!this.isMargin()&&(this.options.marginRight=0),this.autoplay={},this.autoplay.status=this.options.autoplay||!1,this.autoplay.delay=this.options.delay||3e3,this.autoplay.interval=null,this.options.slideGroup=this.options.slideGroup||!1,this.options.speed?this.options.speed=this.options.speed:this.options.speed=300,this.mouse={moveOn:!1,position:{start:0,end:0,inArea:0,direction:"",wrapperStart:0,wrapperEnd:0},moveSpeed:0}}getContainerAreaSize(type){switch(type){case"x":return this.$container.getBoundingClientRect().width;case"y":return this.$container.getBoundingClientRect().height;default:return this.$container.getBoundingClientRect()}}getWrapperAreaSize(type){switch(type){case"x":return this.$wrapper.getBoundingClientRect().width;case"y":return this.$wrapper.getBoundingClientRect().height;default:return this.$wrapper.getBoundingClientRect()}}calcItemWidth(){var itemWidth=this.getContainerAreaSize("x")/this.options.items;return this.isMargin()&&(itemWidth-=this.options.marginRight),itemWidth}setItemsWidth(){for(var i=0;i<this.$items.length;i++)this.$items[i].style.minWidth=this.calcItemWidth()+"px",this.setItemMargin(this.$items[i])}getItemWidth(){return parseInt(this.$items[0].style.minWidth)+this.options.marginRight}setItemMargin(item){this.isMargin()&&(item.style.marginRight=this.options.marginRight+"px")}getAllItemsWidth(){return(parseInt(this.$items[0].style.minWidth)+this.options.marginRight)*this.$items.length}getWrapperTranslateX(){var currentPosition,regex=/[+-]?\d+(?:\.\d+)?/g,matches_array=this.$wrapper.style.transform.match(regex);return Number(matches_array[1])}setWrapperTranslateX(pos){this.$wrapper.style.transform="translate3d("+pos+"px, 0px, 0px)"}moveToSection(id){this.setWrapperTranslateX(this.sections.positions[id])}moveItemsToLeft(){this.sections.currentSection>0&&-0!==this.sections.currentSection?this.sections.currentSection--:this.sections.currentSection=this.sections.count-1,this.moveToSection(this.sections.currentSection)}moveItemsToRight(){this.sections.currentSection++,this.sections.currentSection<this.sections.count?this.sections.currentSection=this.sections.currentSection:this.sections.currentSection=0,this.moveToSection(this.sections.currentSection)}onClickNavigation(){if(this.options.navigation)if(this.options.navigation.prev.length&&this.options.navigation.next.length){var that=this;console.log(this.options.navigation),this.options.navigation.prev[0]?this.options.navigation.prev[0].addEventListener("click",()=>that.moveItemsToLeft()):this.navPrev.addEventListener("click",()=>that.moveItemsToLeft()),this.options.navigation.next[0].addEventListener("click",()=>that.moveItemsToRight())}else this.error("navError")}setMouseDirection(pos){-1==Math.sign(pos)?this.mouse.position.direction="left":this.mouse.position.direction="right"}getMouseDirection(){return this.mouse.position.direction}getMousePos(e){return e.screenX}getMousePosInArea(currentPosition){var calcPos=currentPosition-this.mouse.position.start,thisPos=this.mouse.position.wrapperStart+calcPos;return this.mouse.position.inArea=calcPos,this.setMouseDirection(this.mouse.position.inArea),console.log(this.getMouseDirection()),thisPos}onMouseMove(event){var newPos=this.getMousePosInArea(this.getMousePos(event));this.setWrapperTranslateX(newPos)}mouseInit(){this.$container.addEventListener("mousedown",e=>{this.mouse.position.start=this.getMousePos(e),this.mouse.position.wrapperStart=this.getWrapperTranslateX(),this.clearTransitionSpeed(),document.addEventListener("mousemove",moveHandler),this.stopAutoPlay()}),this.$container.addEventListener("mouseup",e=>{this.setTransitionSpeed(),document.removeEventListener("mousemove",moveHandler),this.mouse.position.start=0,this.mouse.position.wrapperStart=0,this.mouseRerfeshSlider()}),document.addEventListener("mouseup",e=>{this.setTransitionSpeed(),document.removeEventListener("mousemove",moveHandler),this.mouse.position.start=0,this.mouse.position.wrapperStart=0,this.mouseRerfeshSlider()});var moveHandler=e=>{this.onMouseMove(e)}}mouseRerfeshSlider(){for(var i=0;i<this.sections.positions.length;i++)this.findClosestSection(this.getWrapperTranslateX())==this.sections.positions[i]&&(this.sections.currentSection=i);this.setWrapperTranslateX(this.findClosestSection(this.getWrapperTranslateX())),this.continueAutoPlay()}stopAutoPlay(){this.autoplay.interval&&(clearInterval(this.autoplay.interval),this.autoplay.interval=null)}continueAutoPlay(){this.autoplay.status&&null==this.autoplay.interval&&(this.autoplay.interval=setInterval(()=>{this.moveItemsToRight()},this.autoplay.delay))}getOneSectionSize(){const countTotalAreas=this.$items.length/this.options.items,oneAreaSize=this.getAllItemsWidth()/countTotalAreas;return console.log(this.getAllItemsWidth()),oneAreaSize}getSectionsCount(){return this.sections.positions.length}calcSections(){var sections=[],per=!1;per=1==this.options.slideGroup?this.getOneSectionSize():this.getItemWidth();var lastSectionPos=this.getAllItemsWidth()-this.getItemWidth()*this.options.items;lastSectionPos*=-1;for(var i=0;i<=this.getAllItemsWidth();i++)if(i%per==0){var lastSection;if(i>-1*lastSectionPos)break;sections.push(-1*i)}return sections}findClosestSection(wrapperPos){function findTheClosest(arr,base){var arrLen=arr.length,theClosest=1/0,i,temp,arrElement;for(i=0;i<arrLen;i++)(temp=Math.abs(arr[i]-base))<theClosest&&(theClosest=temp,arrElement=arr[i]);return arrElement}return findTheClosest(this.sections.positions,wrapperPos)}sumItemsWidth(){return this.calcItemWidth()*this.$items.length}isMargin(){return!!(this.options.marginRight&&0!=this.options.marginRight&&this.options.marginRight>0)}isItems(){return null==this.options.items||NaN==this.options.items||0==this.options.items||-1==Math.sign(this.options.items)||"string"==typeof this.options.items}clearTransitionSpeed(){this.$wrapper.style.transition="0ms ease-in-out"}setTransitionSpeed(){this.$wrapper.style.transition=this.options.speed+"ms ease-in-out"}error(id){console.error(this.msg[id])}warn(id){console.warn(this.msg[id])}init(){this.setItemsWidth(),this.setDefaultParams(),this.autoplay.status&&(this.autoplay.interval=setInterval(()=>{this.moveItemsToRight()},this.autoplay.delay)),1==this.options.mouseControll&&this.mouseInit()}setDefaultParams(){if(this.sections.positions=this.calcSections(),this.sections.count=this.sections.positions.length,this.$wrapper.style.transform="translate3d(0px, 0px, 0px)",null==this.options.navigation){var newNav=document.createElement("div");newNav.classList.add("v__nav-wrapper"),newNav.innerHTML='<div class="v__btn-prev"></div><div class="v__btn-next"></div>',this.$container.append(newNav),this.options.navigation={prev:newNav.querySelectorAll(".v__btn-prev"),next:newNav.querySelectorAll(".v__btn-next")}}else this.options.navigation.prev=document.querySelectorAll(this.options.navigation.prev),this.options.navigation.next=document.querySelectorAll(this.options.navigation.next);this.onClickNavigation()}}(containerClassName,options).init()}window.vSlider=vSlider}();